[gd_scene load_steps=17 format=3 uid="uid://cr4uc5uqiebxb"]

[ext_resource type="Script" path="res://scripts/main.gd" id="1_1i8d8"]
[ext_resource type="PackedScene" uid="uid://b561e3wuyevxd" path="res://scenes/enemy.tscn" id="1_o5a2t"]
[ext_resource type="Texture2D" uid="uid://iv43on74f2r" path="res://assets/img/Light.png" id="3_gfj6h"]
[ext_resource type="PackedScene" uid="uid://b6mhcidscnl1p" path="res://scenes/shadow_manager.tscn" id="4_edccw"]
[ext_resource type="PackedScene" uid="uid://cdf6ykr72br6j" path="res://scenes/player.tscn" id="6_q7otw"]
[ext_resource type="PackedScene" uid="uid://jhtn56plofc2" path="res://scenes/tile_map.tscn" id="7_lrm11"]
[ext_resource type="PackedScene" uid="uid://cheke7xaxace1" path="res://scenes/audio_manager.tscn" id="8_dvmap"]
[ext_resource type="PackedScene" uid="uid://cjl0kk0rhoohw" path="res://scenes/light_area.tscn" id="8_plrqj"]
[ext_resource type="PackedScene" uid="uid://dqotwv3pp0glp" path="res://scenes/props/cabinet.tscn" id="9_8sync"]
[ext_resource type="PackedScene" uid="uid://drcra0l5jel10" path="res://scenes/props/printer.tscn" id="10_c6iyv"]
[ext_resource type="PackedScene" uid="uid://b558i82s6aec6" path="res://scenes/props/scroll.tscn" id="11_y3fev"]
[ext_resource type="PackedScene" uid="uid://ibikhvtijdva" path="res://scenes/props/skull.tscn" id="12_ftvsf"]
[ext_resource type="PackedScene" uid="uid://bae8sw2ugxn20" path="res://scenes/props/table.tscn" id="13_krvin"]

[sub_resource type="Curve2D" id="Curve2D_6y1us"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 400, 400, 0, 0, 0, 0, 600, 400, 0, 0, 0, 0, 600, 200, 0, 0, 0, 0, 400, 200, 0, 0, 0, 0, 400, 400)
}
point_count = 5

[sub_resource type="CircleShape2D" id="CircleShape2D_3pdvt"]
radius = 200.0

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_wgypv"]
blend_mode = 3

[node name="Main" type="Node2D"]
position = Vector2(-1, -3)
script = ExtResource("1_1i8d8")

[node name="TileMap" parent="." instance=ExtResource("7_lrm11")]
layer_0/tile_data = PackedInt32Array(0, 131073, 4, 65536, 1, 2, 131072, 1, 2, 196608, 131073, 4, 196609, 1, 3, 131073, 1, 3, 65537, 1, 0, 1, 262145, 2, 196610, 65537, 5, 262146, 1, 0, 196611, 65537, 5, 131075, 262145, 5, 65538, 1, 0, 2, 262145, 2, 131074, 262145, 5, 65539, 1, 0, 3, 262145, 2, 262147, 1, 0, 262145, 1, 0, 262144, 1, 2, 327681, 262145, 3, 327682, 262145, 3, 327680, 458753, 4, 327683, 262145, 3, 327684, 262145, 3, 327685, 262145, 3, 327686, 262145, 3, 262150, 1, 0, 262151, 1, 0, 262152, 1, 0, 262153, 1, 3, 327687, 262145, 3, 327688, 262145, 3, 327689, 393217, 4, 262149, 1, 0, 262148, 1, 0, 196612, 65537, 5, 131076, 262145, 5, 65540, 1, 0, 4, 262145, 2, 5, 262145, 2, 65541, 1, 0, 131077, 262145, 5, 196613, 65537, 5, 196614, 65537, 5, 131078, 262145, 5, 131079, 262145, 5, 65543, 1, 0, 65542, 1, 0, 6, 262145, 2, 131080, 1, 2, 65544, 1, 0, 8, 262145, 2, 196615, 65537, 5, 7, 262145, 2, 65545, 1, 3, 131081, 1, 3, 196617, 262145, 4, 196616, 1, 2, 9, 262145, 4)

[node name="ShadowManager" parent="." node_paths=PackedStringArray("fog", "light_arr") instance=ExtResource("4_edccw")]
fog = NodePath("../Fog")
LightTexture = ExtResource("3_gfj6h")
light_arr = [NodePath("../Enemy/PathFollow2D/CharacterBody2D/LightArea"), NodePath("../Enemy2/PathFollow2D/CharacterBody2D/LightArea"), NodePath("../LightArea"), NodePath("../LightArea2"), NodePath("../Player/LightArea")]

[node name="Enemy" parent="." node_paths=PackedStringArray("player") instance=ExtResource("1_o5a2t")]
curve = SubResource("Curve2D_6y1us")
player = NodePath("../Player")
state = 1

[node name="PathFollow2D" parent="Enemy" index="0"]
position = Vector2(400, 400)

[node name="Enemy2" parent="." node_paths=PackedStringArray("player") instance=ExtResource("1_o5a2t")]
starting_ang = 180.0
player = NodePath("../Player")

[node name="PathFollow2D" parent="Enemy2" index="0"]
position = Vector2(139, 454)

[node name="Player" parent="." instance=ExtResource("6_q7otw")]
position = Vector2(165, 126)

[node name="Camera2D" type="Camera2D" parent="Player"]

[node name="LightArea" parent="." instance=ExtResource("8_plrqj")]
position = Vector2(783, 237)

[node name="CollisionShape2D2" type="CollisionShape2D" parent="LightArea"]
shape = SubResource("CircleShape2D_3pdvt")

[node name="LightArea2" parent="." instance=ExtResource("8_plrqj")]
position = Vector2(1267, 235)

[node name="CollisionShape2D2" type="CollisionShape2D" parent="LightArea2"]
shape = SubResource("CircleShape2D_3pdvt")

[node name="Fog" type="Sprite2D" parent="."]
z_index = 2
material = SubResource("CanvasItemMaterial_wgypv")
texture = ExtResource("3_gfj6h")
centered = false

[node name="AudioManager" parent="." instance=ExtResource("8_dvmap")]

[node name="Printer" parent="." instance=ExtResource("10_c6iyv")]
position = Vector2(534, 76)

[node name="Scroll" parent="." instance=ExtResource("11_y3fev")]
position = Vector2(478, 478)

[node name="Skull" parent="." instance=ExtResource("12_ftvsf")]
position = Vector2(92, 281)

[node name="Table" parent="." instance=ExtResource("13_krvin")]
position = Vector2(719, 519)

[node name="Cabinet" parent="." instance=ExtResource("9_8sync")]
position = Vector2(425, 180)

[editable path="Enemy"]
[editable path="Enemy2"]
[editable path="Player"]
